#!/bin/bash

username="$1"
password="$2"

declare -a friends
declare -a users

case $chan in
	\#*)
	echo "warning: $source_nick tried identifying in a channel!"
	answer "don't identify in a channel, dumb-ass!"
	if [[ ! "$password" == "" ]]; then
		echo "critical: $source_nick identified in a channel! account [disabled]."
		answer "great! stating your password here was a very smart idea... idot!"
		answer "i am disabling your account, fool."
		echo "yet to come..."
	fi
	;;
	
	*)
	# check if we allready have authenticated
	#if [[ -n ${friends[$hostmask]} ]]; then
	#	answer "i allready know you, ${friends[$hostmask]}"
	#	return
	#fi

	# walk through user file
	for userline in $(cat etc/users)
	do
		# validate authentication
		if [[ "$(echo $userline | cut -d: -f1)" == "$username" ]] && [[ "$(echo $userline | cut -d: -f2)" == "$password" ]]; then
			friends[${#friends[*]}]="$hostmask"
			users[${#users[*]}]="$username"
		fi
	done
esac

